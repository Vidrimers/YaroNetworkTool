# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ–Ω–ª–∞–π–Ω –∏–≥—Ä (Roblox –∏ –¥—Ä.)

## –ü—Ä–æ–±–ª–µ–º–∞
Roblox –∏ –¥—Ä—É–≥–∏–µ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä—ã –≤—ã–ª–µ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ ~5 –º–∏–Ω—É—Ç –∏–∑-–∑–∞:
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ UDP/QUIC
- –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤ TCP keepalive
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–æ–∫–µ—Ç–æ–≤

## –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω UDP/QUIC sniffing
**–ë—ã–ª–æ:**
```json
"sniffing": {
  "enabled": true,
  "destOverride": ["http", "tls"]
}
```

**–°—Ç–∞–ª–æ:**
```json
"sniffing": {
  "enabled": true,
  "destOverride": ["http", "tls", "quic", "fakedns"]
}
```
‚úÖ –¢–µ–ø–µ—Ä—å X-Ray –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∏–≥—Ä–æ–≤–æ–π UDP —Ç—Ä–∞—Ñ–∏–∫

### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã sockopt –¥–ª—è keepalive
**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ `streamSettings` inbound:**
```json
"sockopt": {
  "tcpKeepAliveInterval": 30,    // –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å keepalive –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
  "tcpKeepAliveIdle": 60,         // –ù–∞—á–∞—Ç—å keepalive —á–µ—Ä–µ–∑ 60 —Å–µ–∫ –ø—Ä–æ—Å—Ç–æ—è
  "tcpFastOpen": true,            // –£—Å–∫–æ—Ä–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
  "mark": 255                     // –ú–µ—Ç–∫–∞ –¥–ª—è routing
}
```
‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–∑—Ä—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø—Ä–æ—Å—Ç–æ–µ

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã sockopt –¥–ª—è outbound
**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ `outbounds[0]` (freedom):**
```json
"streamSettings": {
  "sockopt": {
    "tcpKeepAliveInterval": 30,
    "tcpKeepAliveIdle": 60,
    "tcpFastOpen": true
  }
}
```
‚úÖ –ò—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–æ–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

### 4. –£–ª—É—á—à–µ–Ω routing
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```json
"routing": {
  "domainStrategy": "IPIfNonMatch",  // –£–º–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è DNS
  ...
}

"outbounds[0]": {
  "settings": {
    "domainStrategy": "UseIP"  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP –Ω–∞–ø—Ä—è–º—É—é
  }
}
```
‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è –∏–≥—Ä–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä–∞

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ –æ–±—ã—á–Ω—É—é —Ä–∞–±–æ—Ç—É VPN

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:
1. **–ë—ã—Å—Ç—Ä–µ–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–∞–π—Ç—ã** - TCP Fast Open —É—Å–∫–æ—Ä—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
2. **–°—Ç–∞–±–∏–ª—å–Ω–µ–µ –¥–æ–ª–≥–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏** - keepalive –Ω–µ –¥–∞—Å—Ç —Ä–∞–∑–æ—Ä–≤–∞—Ç—å—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é
3. **–õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∏–¥–µ–æ** - QUIC sniffing –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç YouTube/Twitch
4. **–ú–µ–Ω—å—à–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π** - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–µ—Ä–∂–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º

### ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –º–∏–Ω—É—Å—ã:
1. **–ß—É—Ç—å –±–æ–ª—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞** - keepalive –ø–∞–∫–µ—Ç—ã –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫ (~100 –±–∞–π—Ç)
   - –ó–∞ —á–∞—Å: ~12 KB
   - –ó–∞ –º–µ—Å—è—Ü: ~8.6 MB (–Ω–∏—á—Ç–æ–∂–Ω–æ –º–∞–ª–æ)
2. **–ß—É—Ç—å –±–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU** - –Ω–æ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–ª—è X-Ray
- –ù–µ –æ—Å–ª–∞–±–ª—è—é—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ –ø–æ—Ä—Ç—ã
- –ù–µ –º–µ–Ω—è—é—Ç –ø—Ä–∞–≤–∏–ª–∞ firewall

## –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ë—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
sudo cp /usr/local/etc/xray/config.json /usr/local/etc/xray/config.json.backup

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥
sudo cp configs/xray-vless-reality-gaming-fix.json /usr/local/etc/xray/config.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
sudo xray run -test -config /usr/local/etc/xray/config.json

# –ï—Å–ª–∏ OK - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart xray
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é:

1. –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥:
```bash
sudo nano /usr/local/etc/xray/config.json
```

2. –ù–∞–π–¥–∏ —Å–µ–∫—Ü–∏—é `"sniffing"` –∏ –∏–∑–º–µ–Ω–∏ –Ω–∞:
```json
"sniffing": {
  "enabled": true,
  "destOverride": ["http", "tls", "quic", "fakedns"]
}
```

3. –î–æ–±–∞–≤—å `"sockopt"` –≤ `streamSettings` (–ø–æ—Å–ª–µ `xhttpSettings`):
```json
"streamSettings": {
  "network": "xhttp",
  "security": "reality",
  "realitySettings": { ... },
  "xhttpSettings": { ... },
  "sockopt": {
    "tcpKeepAliveInterval": 30,
    "tcpKeepAliveIdle": 60,
    "tcpFastOpen": true,
    "mark": 255
  }
}
```

4. –î–æ–±–∞–≤—å –≤ outbound `"freedom"`:
```json
{
  "protocol": "freedom",
  "tag": "direct",
  "settings": {
    "domainStrategy": "UseIP"
  },
  "streamSettings": {
    "sockopt": {
      "tcpKeepAliveInterval": 30,
      "tcpKeepAliveIdle": 60,
      "tcpFastOpen": true
    }
  }
}
```

5. –°–æ—Ö—Ä–∞–Ω–∏ (Ctrl+O, Enter, Ctrl+X)

6. –ü—Ä–æ–≤–µ—Ä—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏:
```bash
sudo xray run -test -config /usr/local/etc/xray/config.json
sudo systemctl restart xray
```

## –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫:
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—ç–∫–∞–ø
sudo cp /usr/local/etc/xray/config.json.backup /usr/local/etc/xray/config.json

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart xray
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status xray

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
sudo tail -f /var/log/xray/error.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
sudo ss -tunap | grep xray
```

–ü–æ–ø—Ä–æ—Å–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Roblox —Å–Ω–æ–≤–∞.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–∂–µ—Ç)

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:

### 1. –£–±—Ä–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö IP
–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ routing:
```json
// {
//   "type": "field",
//   "ip": ["geoip:private"],
//   "outboundTag": "block"
// }
```

### 2. –£–≤–µ–ª–∏—á–∏—Ç—å –±—É—Ñ–µ—Ä—ã
–î–æ–±–∞–≤–∏—Ç—å –≤ sockopt:
```json
"sockopt": {
  "tcpKeepAliveInterval": 30,
  "tcpKeepAliveIdle": 60,
  "tcpFastOpen": true,
  "mark": 255,
  "tcpWindowClamp": 600,
  "tcpUserTimeout": 10000
}
```

### 3. –í–∫–ª—é—á–∏—Ç—å mux (–º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)
–î–æ–±–∞–≤–∏—Ç—å –≤ inbound:
```json
"streamSettings": {
  ...,
  "mux": {
    "enabled": true,
    "concurrency": 8
  }
}
```

## –í–æ–ø—Ä–æ—Å—ã?

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã - –ø–∏—à–∏, —Ä–∞–∑–±–µ—Ä–µ–º—Å—è!
